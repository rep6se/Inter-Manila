<!DOCTYPE html>
<html>
<head>
<title>Inter Manila Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:#020617;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.box{
background:#0f172a;
padding:30px;
border-radius:16px;
width:300px;
box-shadow:0 0 25px rgba(0,0,0,0.6);
text-align:center;
}

h2{
margin-bottom:20px;
}

input{
width:100%;
padding:12px;
margin-top:10px;
border:none;
border-radius:10px;
background:#1e293b;
color:white;
}

button{
width:100%;
padding:12px;
margin-top:15px;
border:none;
border-radius:10px;
background:#2563eb;
color:white;
font-weight:bold;
cursor:pointer;
}

button:hover{
background:#1d4ed8;
}

.error{
color:#f87171;
margin-top:10px;
font-size:14px;
}
</style>
</head>

<body>

<div class="box">
<h2>INTER MANILA</h2>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()">LOGIN</button>
<div class="error" id="err"></div>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { 
getAuth, 
signInWithEmailAndPassword, 
onAuthStateChanged,
setPersistence,
browserLocalPersistence
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAuqUcXYjMU-XaL_w7h4y43RHku4dQGFlk",
  authDomain: "inter-manila.firebaseapp.com",
  projectId: "inter-manila",
  storageBucket: "inter-manila.firebasestorage.app",
  messagingSenderId: "285507279342",
  appId: "1:285507279342:web:5aa0c80a08fb92727416ff"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* TAHAN LOGIN SESSION */
setPersistence(auth, browserLocalPersistence);

/* AUTO REDIRECT KALO SUDAH LOGIN */
onAuthStateChanged(auth, (user) => {
  if(user){
    window.location.href="dashboard.html";
  }
});

/* LOGIN FUNCTION */
window.login = function(){
const email=document.getElementById("email").value;
const password=document.getElementById("password").value;

signInWithEmailAndPassword(auth,email,password)
.then(()=>{
window.location.href="dashboard.html";
})
.catch((error)=>{
document.getElementById("err").innerText="Email atau password salah";
});
};

</script>

</body>
</html>
